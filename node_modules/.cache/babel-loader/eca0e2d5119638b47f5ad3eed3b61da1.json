{"ast":null,"code":"var _jsxFileName = \"/Users/hsalmon/Dev/rogue_templates/RS-tactical_kinetics/src/components/pages/Product.jsx\";\n\n/*\n=====================================================\nOMEGA19 Page\nProduct\n=====================================================\n*/\nimport React from 'react';\nimport Template from '../Template';\nimport Tabs from '../Tabs';\nimport TabsPage from '../TabsPage';\nimport Metadata from '../Metadata';\nimport ImageZoom from 'react-medium-image-zoom';\nimport ProductImage1 from '../../static/img/no-image.png';\nimport NoImage from '../../static/img/no-image.png';\nimport FeaturedProducts from '../FeaturedProducts';\nexport default class Product extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: parseInt(this.props.match.params.productURI.split(\"-\")[0]),\n      name: \"\",\n      price: 0,\n      description: \"\",\n      isLoaded: false,\n      quantity: 1,\n      featuredImage: \"\",\n      images: null,\n      currentImage: 0,\n      data: {},\n      errorRaised: false,\n      messageRaised: false,\n      message: \"\",\n      isProcessing: false,\n      options: [{\n        id: \"1\",\n        name: \"test\",\n        label: \"Test\",\n        currentValue: 0,\n        values: [{\n          id: \"3\",\n          label: \"Right\"\n        }]\n      }]\n    };\n    global.API.getProducts(this.state.id).then(success => {\n      let options = success.data.options;\n      let optionsCondensed = [];\n\n      if (options.length > 0) {\n        for (var i = 0; i < options.length; i++) {\n          let option = options[i];\n          let hasSetFirst = false;\n          let item = {\n            id: option.id,\n            label: option.display_name,\n            currentValue: 0,\n            values: []\n          };\n\n          for (var value of option.option_values) {\n            if (!hasSetFirst) {\n              item.currentValue = value.id;\n              hasSetFirst = true;\n            }\n\n            let itemPush = {\n              id: value.id,\n              label: value.label\n            };\n            item.values.push(itemPush);\n          }\n\n          optionsCondensed.push(item);\n        }\n      }\n\n      this.setState({\n        data: success.data,\n        name: success.data.name,\n        price: success.data.price,\n        featuredImage: success.data.images.length > 0 ? success.data.images[0].url_zoom : NoImage,\n        images: success.data.images.length > 0 ? success.data.images : null,\n        options: optionsCondensed.length > 0 ? optionsCondensed : [],\n        description: success.data.description,\n        isLoaded: true\n      });\n    }, error => {});\n    this.handleQuantityChange = this.handleQuantityChange.bind(this);\n    this.handleThumbnailClick = this.handleThumbnailClick.bind(this);\n    this.handleOptionChange = this.handleOptionChange.bind(this);\n  }\n\n  handleShareClick(linkType) {\n    if (linkType == \"facebook\") {\n      window.location = \"https://www.facebook.com/sharer.php?s=100&p[url]=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n    } else if (linkType == \"twitter\") {\n      window.location = \"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n    } else if (linkType == \"pinterest\") {\n      window.location = \"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n    }\n  }\n\n  renderOptions() {\n    let renderable = [];\n\n    if (this.state.isLoaded) {\n      if (this.state.options.length > 0) {\n        for (var option of this.state.options) {\n          let items = [];\n\n          for (var value of option.values) {\n            items.push(React.createElement(\"option\", {\n              value: value.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 118\n              },\n              __self: this\n            }, value.label));\n          }\n\n          renderable.push(React.createElement(\"div\", {\n            className: \"product-page-option\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, React.createElement(\"label\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, option.label), React.createElement(\"select\", {\n            id: renderable.length,\n            onChange: this.handleOptionChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, items)));\n        }\n      }\n    }\n\n    return renderable;\n  }\n\n  handleOptionChange(e) {\n    var optionID = e.target.id;\n    var optionValue = e.target.value;\n    var options = this.state.options;\n    options[optionID].currentValue = optionValue;\n  }\n\n  raiseProcessing() {\n    this.setState({\n      isProcessing: true\n    });\n  }\n\n  stopProcessing() {\n    this.setState({\n      isProcessing: false\n    });\n  }\n\n  handleAddToCart() {\n    this.raiseProcessing();\n    this.clearMessage();\n    global.API.addToCart(this.state.id, this.state.quantity, this.state.options.length > 0 ? this.state.options : null).then(success => {\n      if (success.Result.Response.errors) {\n        this.raiseError(\"An error has occured. Please try again later.\");\n      } else {\n        this.raiseMessage(this.state.name + (this.state.quantity > 1 ? \"(\" + this.state.quantity + \") \" : \" \") + 'has been added to your cart.');\n      }\n    }, error => {\n      console.log(\"api error\");\n      this.raiseError(\"An error has occured. Please try again later.\");\n    }).finally(() => {\n      this.stopProcessing();\n    });\n  }\n\n  raiseMessage(message) {\n    this.setState({\n      messageRaised: true,\n      errorRaised: false,\n      message: message\n    });\n  }\n\n  clearMessage() {\n    this.setState({\n      messageRaised: false,\n      errorRaised: false,\n      message: \"\"\n    });\n  }\n\n  raiseError(message) {\n    this.setState({\n      errorRaised: true,\n      messageRaised: false,\n      message: message\n    });\n  }\n\n  clearError() {\n    this.clearMessage();\n  }\n\n  handleQuantityChange(event) {\n    let value = parseInt(event.target.value);\n    this.setState({\n      quantity: value < 1 ? 1 : value > 20 ? 20 : value\n    });\n  }\n\n  returnDescriptionHTML() {\n    return {\n      __html: this.state.description\n    };\n  }\n\n  renderTabs() {\n    if (this.state.isLoaded) {\n      return (// <Tabs className=\"desktop-whole mobile-whole right\">\n        //     <TabsPage title=\"Description\">\n        React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"product-page-description-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, \"Description\"), React.createElement(\"div\", {\n          dangerouslySetInnerHTML: this.returnDescriptionHTML(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        })) //     </TabsPage>\n        //     <TabsPage title=\"Reviews\">\n        //         <h1>Coming Soon!</h1>\n        //         <p>RogueShops is currently in alpha. We will be adding this soon.</p>\n        //     </TabsPage>\n        // </Tabs>\n\n      );\n    }\n  }\n\n  renderThumbnails() {\n    let thumbnails = [];\n\n    if (this.state.isLoaded) {\n      if (this.state.images) {\n        for (var i = 0; i < this.state.images.length; i++) {\n          const image = this.state.images[i];\n          thumbnails.push(React.createElement(\"div\", {\n            id: i,\n            onClick: this.handleThumbnailClick,\n            className: \"product-page-thumbnail\",\n            style: {\n              backgroundImage: \"url(\" + image.url_standard + \")\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241\n            },\n            __self: this\n          }));\n        }\n      }\n    }\n\n    return thumbnails;\n  }\n\n  handleThumbnailClick(e) {\n    let id = e.target.id;\n    this.setState({\n      featuredImage: this.state.images[id].url_zoom\n    });\n  }\n\n  setImageSource() {\n    if (this.state.isLoaded) {\n      this.setState((state, props) => ({\n        featuredImage: state.images[state.currentImage].url_zoom\n      }));\n    }\n  }\n\n  renderImagePlaceholder() {\n    if (!this.state.isLoaded) {\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: \"400px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderTitlePlaceholder() {\n    if (!this.state.isLoaded) {\n      return React.createElement(\"div\", {\n        style: {\n          width: \"300px\",\n          height: \"35px\",\n          backgroundColor: \"rgb(240, 240, 240)\",\n          borderRadius: \"2px\",\n          margin: \"0px 0px 30px 0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderMessage() {\n    if (this.state.messageRaised) {\n      return React.createElement(\"div\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, this.state.message);\n    } else if (this.state.errorRaised) {\n      return React.createElement(\"div\", {\n        className: \"message error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, this.state.message);\n    }\n  }\n\n  renderMetadata() {\n    if (this.state.isLoaded) {\n      return React.createElement(Metadata, {\n        title: this.state.name,\n        description: \"$\" + this.state.price,\n        url: this.props.location.pathname,\n        image: this.state.featuredImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(Template, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, this.renderMetadata(), React.createElement(\"div\", {\n      className: \"Product page product-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"product-page-breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"desktop-half mobile-whole left product-page-head-half product-page-head-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(ImageZoom, {\n      image: {\n        src: this.state.featuredImage,\n        alt: this.state.name,\n        style: {\n          width: \"100%\"\n        }\n      },\n      zoomImage: {\n        src: this.state.featuredImage,\n        alt: this.state.name\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }), this.renderImagePlaceholder(), this.renderThumbnails()), React.createElement(\"div\", {\n      className: \"desktop-half mobile-whole right product-page-head-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, this.renderTitlePlaceholder(), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, this.state.name), React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"$\" + parseFloat(this.state.price).toFixed(2)), this.renderOptions(), React.createElement(\"label\", {\n      htmlFor: \"Quantity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, \"Quantity\"), React.createElement(\"input\", {\n      id: \"Quantity\",\n      type: \"number\",\n      min: 1,\n      max: 100,\n      value: this.state.quantity,\n      onChange: this.handleQuantityChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }), this.renderMessage(), React.createElement(\"div\", {\n      id: \"AddToCart\",\n      className: \"button\" + (this.state.isProcessing ? \" processing\" : \"\"),\n      onClick: () => this.handleAddToCart(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"Add to Cart\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"italic grey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"Ships from United States\"), React.createElement(\"div\", {\n      className: \"share-links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, \"Share\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"https://www.facebook.com/sharer.php?s=100&p[url]=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fab fa-facebook-f\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fab fa-twitter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      target: \"_blank\",\n      href: \"https://pinterest.com/pin/create/bookmarklet/?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fab fa-pinterest-p\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    })))), this.renderTabs()), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }), React.createElement(FeaturedProducts, {\n      title: \"Check out our other products!\",\n      collectionID: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/hsalmon/Dev/rogue_templates/RS-tactical_kinetics/src/components/pages/Product.jsx"],"names":["React","Template","Tabs","TabsPage","Metadata","ImageZoom","ProductImage1","NoImage","FeaturedProducts","Product","Component","constructor","props","state","id","parseInt","match","params","productURI","split","name","price","description","isLoaded","quantity","featuredImage","images","currentImage","data","errorRaised","messageRaised","message","isProcessing","options","label","currentValue","values","global","API","getProducts","then","success","optionsCondensed","length","i","option","hasSetFirst","item","display_name","value","option_values","itemPush","push","setState","url_zoom","error","handleQuantityChange","bind","handleThumbnailClick","handleOptionChange","handleShareClick","linkType","window","location","encodeURI","SITE_DOMAIN","pathname","renderOptions","renderable","items","e","optionID","target","optionValue","raiseProcessing","stopProcessing","handleAddToCart","clearMessage","addToCart","Result","Response","errors","raiseError","raiseMessage","console","log","finally","clearError","event","returnDescriptionHTML","__html","renderTabs","renderThumbnails","thumbnails","image","backgroundImage","url_standard","setImageSource","renderImagePlaceholder","width","height","renderTitlePlaceholder","backgroundColor","borderRadius","margin","renderMessage","renderMetadata","render","src","alt","style","parseFloat","toFixed"],"mappings":"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","sourcesContent":["/*\n=====================================================\nOMEGA19 Page\nProduct\n=====================================================\n*/\n\nimport React from 'react';\nimport Template from '../Template';\nimport Tabs from '../Tabs';\nimport TabsPage from '../TabsPage';\nimport Metadata from '../Metadata';\nimport ImageZoom from 'react-medium-image-zoom';\n\nimport ProductImage1 from '../../static/img/no-image.png';\nimport NoImage from '../../static/img/no-image.png';\nimport FeaturedProducts from '../FeaturedProducts';\n\nexport default class Product extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            id: parseInt(this.props.match.params.productURI.split(\"-\")[0]),\n            name: \"\",\n            price: 0,\n            description: \"\",\n            isLoaded: false,\n            quantity: 1,\n            featuredImage: \"\",\n            images: null,\n            currentImage: 0,\n            data: {},\n            errorRaised: false,\n            messageRaised: false,\n            message: \"\",\n            isProcessing: false,\n            options: [\n                {\n                    id: \"1\",\n                    name: \"test\",\n                    label: \"Test\",\n                    currentValue: 0,\n                    values: [\n                        {\n                            id: \"3\",\n                            label: \"Right\"\n                        }\n                    ]\n                }\n            ]\n        };\n\n        global.API.getProducts(this.state.id).then(\n            (success) => {\n                let options = success.data.options;\n                let optionsCondensed = [];\n                if(options.length > 0) {\n                    for(var i = 0; i < options.length; i++) {\n                        let option = options[i];\n                        let hasSetFirst = false;\n                        let item = {\n                            id: option.id,\n                            label: option.display_name,\n                            currentValue: 0,\n                            values: []\n                        }\n                        for (var value of option.option_values) {\n                            if(!hasSetFirst) {\n                                item.currentValue = value.id;\n                                hasSetFirst = true;\n                            }\n                            let itemPush = {\n                                id: value.id,\n                                label: value.label\n                            }\n                            item.values.push(itemPush);\n                        }\n                        optionsCondensed.push(item);\n                    }\n                }\n                this.setState({\n                    data: success.data,\n                    name: success.data.name,\n                    price: success.data.price,\n                    featuredImage: (success.data.images.length > 0 ? success.data.images[0].url_zoom : NoImage),\n                    images: (success.data.images.length > 0 ? success.data.images : null),\n                    options: optionsCondensed.length > 0 ? optionsCondensed : [],\n                    description: success.data.description,\n                    isLoaded: true\n                });\n            },\n            (error) => {}\n        );\n\n        this.handleQuantityChange = this.handleQuantityChange.bind(this);\n        this.handleThumbnailClick = this.handleThumbnailClick.bind(this);\n        this.handleOptionChange = this.handleOptionChange.bind(this);\n    }\n\n    handleShareClick(linkType) {\n        if(linkType == \"facebook\") {\n            window.location = \"https://www.facebook.com/sharer.php?s=100&p[url]=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n        } else if(linkType == \"twitter\") {\n            window.location = \"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n        } else if(linkType == \"pinterest\") {\n            window.location = \"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname);\n        }\n    }\n\n    renderOptions() {\n        let renderable = [];\n        if(this.state.isLoaded) {\n            if(this.state.options.length > 0) {\n                for(var option of this.state.options) {\n                    let items = [];\n                    for(var value of option.values) {\n                        items.push(\n                            <option value={value.id}>{value.label}</option>\n                        );\n                    }\n                    renderable.push(\n                        <div className=\"product-page-option\">\n                            <label>{option.label}</label>\n                            <select id={renderable.length} onChange={this.handleOptionChange}>\n                                {items}\n                            </select>\n                        </div>\n                    );\n                }\n            }\n        }\n        return renderable;\n    }\n\n    handleOptionChange(e) {\n        var optionID = e.target.id;\n        var optionValue = e.target.value;\n        var options = this.state.options;\n\n        options[optionID].currentValue = optionValue;\n    }\n    raiseProcessing() {\n        this.setState({\n            isProcessing: true\n        });\n    }\n    stopProcessing() {\n        this.setState({\n            isProcessing: false\n        });\n    }\n    handleAddToCart() {\n        this.raiseProcessing();\n        this.clearMessage();\n        global.API.addToCart(this.state.id, this.state.quantity, (this.state.options.length > 0 ? this.state.options : null )).then(\n            (success) => {\n                if(success.Result.Response.errors) {\n                    this.raiseError(\"An error has occured. Please try again later.\");\n                } else {\n                    this.raiseMessage(this.state.name + (this.state.quantity > 1 ? \"(\" + this.state.quantity + \") \" : \" \") + 'has been added to your cart.');\n                }\n            },\n            (error) => {\n                console.log(\"api error\");\n                this.raiseError(\"An error has occured. Please try again later.\");\n            }\n        ).finally(\n            () => {\n                this.stopProcessing();\n            }\n        );\n    }\n\n    raiseMessage(message) {\n        this.setState({\n            messageRaised: true,\n            errorRaised: false,\n            message: message\n        });\n    }\n    \n    clearMessage() {\n        this.setState({\n            messageRaised: false,\n            errorRaised: false,\n            message: \"\"\n        });\n    }\n\n    raiseError(message) {\n        this.setState({\n            errorRaised: true,\n            messageRaised: false,\n            message: message\n        });\n    }\n\n    clearError() {\n        this.clearMessage();\n    }\n\n    handleQuantityChange(event) {\n        let value = parseInt(event.target.value);\n        this.setState({\n            quantity: value < 1 ? 1 : value > 20 ? 20 : value\n        });\n    }\n\n    returnDescriptionHTML() {\n        return {\n            __html: this.state.description\n        }\n    }\n\n    renderTabs() {\n        if(this.state.isLoaded) {\n            return (\n                // <Tabs className=\"desktop-whole mobile-whole right\">\n                //     <TabsPage title=\"Description\">\n                <div>\n                    <h5 className=\"product-page-description-title\">Description</h5>\n                    <div dangerouslySetInnerHTML={this.returnDescriptionHTML()}></div>\n                </div>\n                //     </TabsPage>\n                //     <TabsPage title=\"Reviews\">\n                //         <h1>Coming Soon!</h1>\n                //         <p>RogueShops is currently in alpha. We will be adding this soon.</p>\n                //     </TabsPage>\n                // </Tabs>\n            );\n        }\n    }\n\n    renderThumbnails() {\n        let thumbnails = [];\n        if(this.state.isLoaded) {\n            if(this.state.images) {\n                for(var i = 0; i < this.state.images.length; i++) {\n                    const image = this.state.images[i]\n                    thumbnails.push(\n                        <div id={i} onClick={this.handleThumbnailClick} className=\"product-page-thumbnail\" style={{backgroundImage: \"url(\" + image.url_standard + \")\"}}></div>\n                    );\n                }\n            }\n        }\n        return thumbnails;\n    }\n\n    handleThumbnailClick(e) {\n        let id = e.target.id;\n        this.setState({\n            featuredImage: this.state.images[id].url_zoom\n        });\n    }\n    \n    setImageSource() {\n        if(this.state.isLoaded) {\n            this.setState((state, props) => ({\n                featuredImage: state.images[state.currentImage].url_zoom\n            }));\n        }\n    }\n\n    renderImagePlaceholder() {\n        if(!this.state.isLoaded) {\n            return (\n                <div style={{ width: \"100%\", height: \"400px\"}}></div>\n            );\n        }\n    }\n\n    renderTitlePlaceholder() {\n        if(!this.state.isLoaded) {\n            return (\n                <div style={{ width: \"300px\", height: \"35px\", backgroundColor: \"rgb(240, 240, 240)\", borderRadius: \"2px\", margin: \"0px 0px 30px 0px\"}}></div>\n            );\n        }\n    }\n\n    renderMessage() {\n        if(this.state.messageRaised) {\n            return (\n                <div className=\"message\">\n                    {this.state.message}\n                </div>\n            );\n        } else if(this.state.errorRaised) {\n            return (\n                <div className=\"message error\">\n                    {this.state.message}\n                </div>\n            );\n        }\n    }\n\n    renderMetadata() {\n        if(this.state.isLoaded) {\n            return (\n                <Metadata title={this.state.name}\n                        description={\"$\" + this.state.price}\n                        url={this.props.location.pathname}\n                        image={this.state.featuredImage}/>\n            );\n        }\n    }\n\n    render() {\n        return (\n            <Template>\n                {this.renderMetadata()}\n                <div className=\"Product page product-page\">\n                    <div className=\"product-page-breadcrumb\">\n                        {/* <p>Collection > {this.state.name}</p> */}\n                    </div>\n                    <div className=\"desktop-half mobile-whole left product-page-head-half product-page-head-image\">\n                        {/* <img className=\"full-width\" src={this.state.featuredImage}/> */}\n                        <ImageZoom image={{\n                                src: this.state.featuredImage,\n                                alt: this.state.name,\n                                style: {width: \"100%\"}\n                            }}\n                            zoomImage={{\n                                src: this.state.featuredImage,\n                                alt: this.state.name\n                            }}\n                        />\n                        {this.renderImagePlaceholder()}\n                        {this.renderThumbnails()}\n                    </div>\n                    <div className=\"desktop-half mobile-whole right product-page-head-half\">\n                        {this.renderTitlePlaceholder()}\n                        <h1>{this.state.name}</h1>\n                        {/* <p className=\"product-page-stars\">\n                            <i className=\"fas fa-star\"></i>\n                            <i className=\"fas fa-star\"></i>\n                            <i className=\"fas fa-star\"></i>\n                            <i className=\"fas fa-star\"></i>\n                            <i className=\"fas fa-star\"></i>\n                        </p> */}\n                        \n                        <h6>{\"$\" + parseFloat(this.state.price).toFixed(2)}</h6>\n                        {this.renderOptions()}\n                        <label htmlFor=\"Quantity\">Quantity</label>\n                        <input id=\"Quantity\" type=\"number\" min={1} max={100} value={this.state.quantity} onChange={this.handleQuantityChange}/>\n\n                        {this.renderMessage()}\n                        <div id=\"AddToCart\" className={\"button\" + (this.state.isProcessing ? \" processing\" : \"\")} onClick={() => this.handleAddToCart()}>Add to Cart</div>\n\n                        <br/>\n                        <span className=\"italic grey\">Ships from United States</span>\n                        <div className=\"share-links\">\n                            <h6>Share</h6>\n                            <div>\n                                <a target=\"_blank\" href={\"https://www.facebook.com/sharer.php?s=100&p[url]=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname)}><i class=\"fab fa-facebook-f\"></i></a>\n                            </div>\n                            <div>\n                                <a target=\"_blank\" href={\"https://twitter.com/share?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname)}><i class=\"fab fa-twitter\"></i></a>\n                            </div>\n                            <div>\n                                <a target=\"_blank\" href={\"https://pinterest.com/pin/create/bookmarklet/?url=\" + encodeURI(global.SITE_DOMAIN + this.props.location.pathname)}><i class=\"fab fa-pinterest-p\"></i></a>\n                            </div>\n                        </div>\n                        {this.renderTabs()}\n                    </div>\n                    \n                    <div className=\"clearfix\"></div>\n\n                    <FeaturedProducts title=\"Check out our other products!\" collectionID=\"all\"/>\n                </div>\n            </Template>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}